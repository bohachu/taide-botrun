# 高中國文學測解題技能

## 技能資訊
- **名稱**: chinese-gsat-solver
- **版本**: 1.0.0
- **描述**: 解答高中國文學測題目，透過上下文工程動態組裝最相關知識，達成高準確率解題與可解釋教學。

## 使用時機

當需要解答以下題型時自動啟用：
- 字形辨識（形近字、錯別字）
- 成語應用（成語用字、成語意義）
- 國學常識（作家作品、文學史、文學流派）
- 文言文閱讀（108課綱15篇古文）
- 修辭手法（10種主要修辭格）

## 架構設計

採用**上下文模板庫 (Context Template)** 架構，分為三層：

```
題目輸入
    ↓
┌─────────────────┐
│ 1. 題型識別層    │  patterns/*.jsonl
│   (識別題目類型)  │
└────────┬────────┘
         ↓
┌─────────────────┐
│ 2. 知識檢索層    │  knowledge/*.jsonl
│   (檢索相關知識)  │
└────────┬────────┘
         ↓
┌─────────────────┐
│ 3. 推理模板層    │  templates/*.jsonl
│   (組裝上下文)   │
└────────┬────────┘
         ↓
    LLM 推理
         ↓
    答案輸出
```

## 目錄結構

```
skill/
├── SKILL.md                    # 本檔案
├── knowledge/                  # 知識層
│   ├── character-forms.jsonl   # 字形知識
│   ├── idioms.jsonl           # 成語知識
│   └── literature.jsonl       # 國學常識
├── templates/                  # 推理模板層
│   └── reasoning.jsonl        # 推理模板
├── patterns/                   # 題型識別層
│   └── question-types.jsonl   # 題型模式
├── scripts/                    # 執行腳本
│   └── solver.mjs             # 主解題腳本
└── sources/                    # 知識來源
    └── SOURCE.md              # 來源引證
```

## 核心原則

### 1. 上下文工程 (Context Engineering)
- 在有限的 token 空間內，傳遞最相關的知識
- 動態組裝上下文，而非靜態 prompt
- 分層設計，每層職責單一

### 2. 泛化而非死記
- 知識庫不儲存「題目→答案」對應
- 儲存「概念→解釋→區分方法」
- LLM 透過知識推理得出答案

### 3. 可解釋性
- 每個答案都有推理過程
- 引用知識來源
- 說明為何排除其他選項

## 使用方式

### 透過腳本執行
```bash
node skill/scripts/solver.mjs --question "題目內容"
```

### 透過 API 整合
```javascript
import { solve } from './skill/scripts/solver.mjs';

const result = await solve({
  question: "下列各組「」內的字，何者字形完全正確？",
  options: ["A: ...", "B: ...", "C: ...", "D: ..."]
});

console.log(result.answer);    // "C"
console.log(result.reasoning); // "詳細推理過程..."
```

## 效能目標

| 指標 | 目標 | 當前 |
|------|------|------|
| 字形題正確率 | 100% | 待測試 |
| 成語題正確率 | 100% | 待測試 |
| 國學題正確率 | 100% | 待測試 |
| 平均回應時間 | <3s | 待測試 |

## 設計原則遵循

- **BDD**: 行為驅動，以解題結果為導向
- **TDD**: 測試驅動，每個知識條目都有驗證
- **SOLID**: 單一職責、開放封閉、依賴反轉
- **DRY**: 知識不重複，模板可重用
